ERROR - 2023-06-07 08:17:53 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`qltaisan`.`functions`, CONSTRAINT `function_user_function` FOREIGN KEY (`function_id`) REFERENCES `user_function` (`function_id`)) in D:\Xampp\htdocs\QuanLyTaiSan\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\Xampp\htdocs\QuanLyTaiSan\system\Database\MySQLi\Connection.php(295): mysqli->query('INSERT INTO `fu...', 0)
#1 D:\Xampp\htdocs\QuanLyTaiSan\system\Database\BaseConnection.php(691): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `fu...')
#2 D:\Xampp\htdocs\QuanLyTaiSan\system\Database\BaseConnection.php(605): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `fu...')
#3 D:\Xampp\htdocs\QuanLyTaiSan\system\Database\BaseBuilder.php(2309): CodeIgniter\Database\BaseConnection->query('INSERT INTO `fu...', Array, false)
#4 D:\Xampp\htdocs\QuanLyTaiSan\system\Model.php(330): CodeIgniter\Database\BaseBuilder->insert()
#5 D:\Xampp\htdocs\QuanLyTaiSan\system\BaseModel.php(782): CodeIgniter\Model->doInsert(Array)
#6 D:\Xampp\htdocs\QuanLyTaiSan\system\Model.php(730): CodeIgniter\BaseModel->insert(Array, true)
#7 D:\Xampp\htdocs\QuanLyTaiSan\app\Models\FunctionModel.php(28): CodeIgniter\Model->insert(Array)
#8 D:\Xampp\htdocs\QuanLyTaiSan\app\Controllers\Dashboard\FunctionController.php(37): App\Models\FunctionModel->add_function(Array)
#9 D:\Xampp\htdocs\QuanLyTaiSan\system\CodeIgniter.php(934): App\Controllers\Dashboard\FunctionController->add_function()
#10 D:\Xampp\htdocs\QuanLyTaiSan\system\CodeIgniter.php(499): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Dashboard\FunctionController))
#11 D:\Xampp\htdocs\QuanLyTaiSan\system\CodeIgniter.php(368): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 D:\Xampp\htdocs\QuanLyTaiSan\public\index.php(67): CodeIgniter\CodeIgniter->run()
#13 {main}
CRITICAL - 2023-06-07 08:17:53 --> Cannot add or update a child row: a foreign key constraint fails (`qltaisan`.`functions`, CONSTRAINT `function_user_function` FOREIGN KEY (`function_id`) REFERENCES `user_function` (`function_id`))
in SYSTEMPATH\Database\BaseConnection.php on line 645.
 1 SYSTEMPATH\Database\BaseBuilder.php(2309): CodeIgniter\Database\BaseConnection->query('INSERT INTO `functions` (`function_id`, `function_name`, `function_status`) VALUES (:function_id:, :function_name:, :function_status:)', [...], false)
 2 SYSTEMPATH\Model.php(330): CodeIgniter\Database\BaseBuilder->insert()
 3 SYSTEMPATH\BaseModel.php(782): CodeIgniter\Model->doInsert([...])
 4 SYSTEMPATH\Model.php(730): CodeIgniter\BaseModel->insert([...], true)
 5 APPPATH\Models\FunctionModel.php(28): CodeIgniter\Model->insert([...])
 6 APPPATH\Controllers\Dashboard\FunctionController.php(37): App\Models\FunctionModel->add_function([...])
 7 SYSTEMPATH\CodeIgniter.php(934): App\Controllers\Dashboard\FunctionController->add_function()
 8 SYSTEMPATH\CodeIgniter.php(499): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Dashboard\FunctionController))
 9 SYSTEMPATH\CodeIgniter.php(368): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
ERROR - 2023-06-07 08:19:13 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`qltaisan`.`functions`, CONSTRAINT `function_user_function` FOREIGN KEY (`function_id`) REFERENCES `user_function` (`function_id`)) in D:\Xampp\htdocs\QuanLyTaiSan\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\Xampp\htdocs\QuanLyTaiSan\system\Database\MySQLi\Connection.php(295): mysqli->query('INSERT INTO `fu...', 0)
#1 D:\Xampp\htdocs\QuanLyTaiSan\system\Database\BaseConnection.php(691): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `fu...')
#2 D:\Xampp\htdocs\QuanLyTaiSan\system\Database\BaseConnection.php(605): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `fu...')
#3 D:\Xampp\htdocs\QuanLyTaiSan\system\Database\BaseBuilder.php(2309): CodeIgniter\Database\BaseConnection->query('INSERT INTO `fu...', Array, false)
#4 D:\Xampp\htdocs\QuanLyTaiSan\system\Model.php(330): CodeIgniter\Database\BaseBuilder->insert()
#5 D:\Xampp\htdocs\QuanLyTaiSan\system\BaseModel.php(782): CodeIgniter\Model->doInsert(Array)
#6 D:\Xampp\htdocs\QuanLyTaiSan\system\Model.php(730): CodeIgniter\BaseModel->insert(Array, true)
#7 D:\Xampp\htdocs\QuanLyTaiSan\app\Models\FunctionModel.php(28): CodeIgniter\Model->insert(Array)
#8 D:\Xampp\htdocs\QuanLyTaiSan\app\Controllers\Dashboard\FunctionController.php(37): App\Models\FunctionModel->add_function(Array)
#9 D:\Xampp\htdocs\QuanLyTaiSan\system\CodeIgniter.php(934): App\Controllers\Dashboard\FunctionController->add_function()
#10 D:\Xampp\htdocs\QuanLyTaiSan\system\CodeIgniter.php(499): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Dashboard\FunctionController))
#11 D:\Xampp\htdocs\QuanLyTaiSan\system\CodeIgniter.php(368): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 D:\Xampp\htdocs\QuanLyTaiSan\public\index.php(67): CodeIgniter\CodeIgniter->run()
#13 {main}
CRITICAL - 2023-06-07 08:19:13 --> Cannot add or update a child row: a foreign key constraint fails (`qltaisan`.`functions`, CONSTRAINT `function_user_function` FOREIGN KEY (`function_id`) REFERENCES `user_function` (`function_id`))
in SYSTEMPATH\Database\BaseConnection.php on line 645.
 1 SYSTEMPATH\Database\BaseBuilder.php(2309): CodeIgniter\Database\BaseConnection->query('INSERT INTO `functions` (`function_id`, `function_name`, `function_status`) VALUES (:function_id:, :function_name:, :function_status:)', [...], false)
 2 SYSTEMPATH\Model.php(330): CodeIgniter\Database\BaseBuilder->insert()
 3 SYSTEMPATH\BaseModel.php(782): CodeIgniter\Model->doInsert([...])
 4 SYSTEMPATH\Model.php(730): CodeIgniter\BaseModel->insert([...], true)
 5 APPPATH\Models\FunctionModel.php(28): CodeIgniter\Model->insert([...])
 6 APPPATH\Controllers\Dashboard\FunctionController.php(37): App\Models\FunctionModel->add_function([...])
 7 SYSTEMPATH\CodeIgniter.php(934): App\Controllers\Dashboard\FunctionController->add_function()
 8 SYSTEMPATH\CodeIgniter.php(499): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Dashboard\FunctionController))
 9 SYSTEMPATH\CodeIgniter.php(368): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
ERROR - 2023-06-07 08:21:15 --> mysqli_sql_exception: Cannot delete or update a parent row: a foreign key constraint fails (`qltaisan`.`users`, CONSTRAINT `user_user_function` FOREIGN KEY (`user_id`) REFERENCES `user_function` (`user_id`)) in D:\Xampp\htdocs\QuanLyTaiSan\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 D:\Xampp\htdocs\QuanLyTaiSan\system\Database\MySQLi\Connection.php(295): mysqli->query('REPLACE INTO `u...', 0)
#1 D:\Xampp\htdocs\QuanLyTaiSan\system\Database\BaseConnection.php(691): CodeIgniter\Database\MySQLi\Connection->execute('REPLACE INTO `u...')
#2 D:\Xampp\htdocs\QuanLyTaiSan\system\Database\BaseConnection.php(605): CodeIgniter\Database\BaseConnection->simpleQuery('REPLACE INTO `u...')
#3 D:\Xampp\htdocs\QuanLyTaiSan\system\Database\BaseBuilder.php(2397): CodeIgniter\Database\BaseConnection->query('REPLACE INTO `u...', Array, false)
#4 D:\Xampp\htdocs\QuanLyTaiSan\system\Model.php(494): CodeIgniter\Database\BaseBuilder->replace(Array)
#5 D:\Xampp\htdocs\QuanLyTaiSan\system\BaseModel.php(1140): CodeIgniter\Model->doReplace(Array, false)
#6 D:\Xampp\htdocs\QuanLyTaiSan\app\Models\UserFunctionModel.php(55): CodeIgniter\BaseModel->replace(Array)
#7 D:\Xampp\htdocs\QuanLyTaiSan\app\Controllers\Dashboard\UserFunctionController.php(31): App\Models\UserFunctionModel->update_uf(Array)
#8 D:\Xampp\htdocs\QuanLyTaiSan\system\CodeIgniter.php(934): App\Controllers\Dashboard\UserFunctionController->update()
#9 D:\Xampp\htdocs\QuanLyTaiSan\system\CodeIgniter.php(499): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Dashboard\UserFunctionController))
#10 D:\Xampp\htdocs\QuanLyTaiSan\system\CodeIgniter.php(368): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 D:\Xampp\htdocs\QuanLyTaiSan\public\index.php(67): CodeIgniter\CodeIgniter->run()
#12 {main}
CRITICAL - 2023-06-07 08:21:15 --> Cannot delete or update a parent row: a foreign key constraint fails (`qltaisan`.`users`, CONSTRAINT `user_user_function` FOREIGN KEY (`user_id`) REFERENCES `user_function` (`user_id`))
in SYSTEMPATH\Database\BaseConnection.php on line 645.
 1 SYSTEMPATH\Database\BaseBuilder.php(2397): CodeIgniter\Database\BaseConnection->query('REPLACE INTO `user_function` (`user_id`, `function_id`, `function_view`, `function_add`, `function_edit`, `function_delete`) VALUES (:user_id:, :function_id:, :function_view:, :function_add:, :function_edit:, :function_delete:)', [...], false)
 2 SYSTEMPATH\Model.php(494): CodeIgniter\Database\BaseBuilder->replace([...])
 3 SYSTEMPATH\BaseModel.php(1140): CodeIgniter\Model->doReplace([...], false)
 4 APPPATH\Models\UserFunctionModel.php(55): CodeIgniter\BaseModel->replace([...])
 5 APPPATH\Controllers\Dashboard\UserFunctionController.php(31): App\Models\UserFunctionModel->update_uf([...])
 6 SYSTEMPATH\CodeIgniter.php(934): App\Controllers\Dashboard\UserFunctionController->update()
 7 SYSTEMPATH\CodeIgniter.php(499): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Dashboard\UserFunctionController))
 8 SYSTEMPATH\CodeIgniter.php(368): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
